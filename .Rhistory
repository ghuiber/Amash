z1.out$range
z1.out$range1
z1.out$sim.out
s1.out$sim.out
s1.out$sim.out$range[[1]]
s1.out$sim.out$range[[1]]$ev
s1.out$sim.out$range[[1]]$pv
mean(s1.out$sim.out$range[[1]]$pv)
names(s1.out$sim.out$range[[1]]$pv)
s1.out$sim.out$range[[1]]$pv
class(s1.out$sim.out$range[[1]]$pv)
length(s1.out$sim.out$range[[1]]$pv)
length(s1.out$sim.out$range[[1]]$pv[[1]])
mean(s1.out$sim.out$range[[1]]$pv[[1]])
mean(s1.out$sim.out$range[[2]]$pv[[1]])
mean(s1.out$sim.out$range[[3]]$pv[[1]])
mean(s1.out$sim.out$range[[4]]$pv[[1]])
mean(s1.out$sim.out$range1[[4]]$pv[[1]])
mean(s1.out$sim.out$range[[4]]$pv[[1]])
mean(s1.out$sim.out$range[[5]]$pv[[1]])
mean(s1.out$sim.out$range[[6]]$pv[[1]])
mean(s1.out$sim.out$range[[7]]$pv[[1]])
mean(s1.out$sim.out$range[[8]]$pv[[1]])
mean(s1.out$sim.out$range[[9]]$pv[[1]])
mean(s1.out$sim.out$range[[10]]$pv[[1]])
mean(s1.out$sim.out$range1[[3]]$pv[[1]])
names(s1.out$sim.out)
sapply(s1.out$sim.out,class)
sapply(s1.out$sim.out,names)
sapply(s1.out,names)
sapply(s1.out$range,names)
head(s1.out$range)
s1.out$range[4,'Amount']
mean(s1.out$sim.out$range1[[3]]$pv[[1]])
s1.out$range1[4,'Amount']
?mean
install.packages(c("lava", "multcomp", "rms"))
system('find . -mtime +0h55m')
# Pure Zelig 5
z1 <- zlogit$new()
z1$zelig(Vote ~ Party + Amount, data=df)
z1$setx(Party='R')
z1$setx1(Party='D')
z1$setrange(Amount=seq(0,maxd,incr))
z1$sim()
plot.ci(z1)
plot.ci(z1$sim())
plot.ci(z1,qi='fd')
plot.ci(z1,qi='ev')
plot.ci(z1,qi='pr')
sapply(z1,class)
z1 <- zlogit$new()
z1$zelig(Vote ~ Party + Amount, data=df)
z1$setx(Party='R')
z1$setx1(Party='D')
z1$setrange(Amount=seq(0,maxd,incr))
z1$setrange1(Amount=seq(0,maxd,incr))
z1$sim()
plot.ci(z1)
plot.qi(z1)
head(z1$sim.out$range)
head(z1$sim.out$range1)
dim(z1$sim.out$range1)
length(z1$sim.out$range1)
length(z1$sim.out$range)
# Pure Zelig 5
z1 <- zlogit$new()
z1$zelig(Vote ~ Party + Amount, data=df)
z1$setx(Party='R')
z1$setx1(Party='D')
z1$setrange(Amount=seq(0,maxd,incr))
z1$sim()
length(z1$sim.out$range)
length(z1$sim.out$range1)
length(z1$sim.out$range)
length(z1$sim.out$range[[1]])
length(z1$sim.out$range[[1]][1])
length(z1$sim.out$range[[1]][2])
dim(z1$sim.out$range[[1]][2])
dim(z1$sim.out$range[[1]][[2]])
dim(z1$sim.out$range[[1]][2])
z1$sim.out$range[[1]][2]
z1$sim.out$range[[1]][2][[1]]
z1$sim.out$range[[1]][1][[1]]
head(z1$sim.out$range[[1]][1][[1]])
head(z1$sim.out$range[[1]][1])
head(z1$sim.out$range[[1]][2])
head(z1$sim.out$range)
z1$sim(x=setx.out)
names(z1$sim.out)
sapply(z1$sim.out, class)
sapply(z1$sim.out$range,class)
length(z1$sim.out$range)
names(z1$sim.out$range)
head(z1$sim.out$range)
names(z1$sim.out$range[[1]])
names(z1$sim.out$range[[2]])
names(z1$sim.out$range[[41]])
names(z1$sim.out$range[[42]])
z1$bsetx
z1$bsetx1
z1$bsetrange
z1$bsetrange1
z1$qi
z1$qi()
z1$qi(simparam='fd')
z1$zelig.out
z1$zelig.out[[2]]
z1$setx.out$x$mm
z1$qi(simparam='fd',mm=z1$setx.out$x$mm)
z1$simparam
z1$simparam$simparam
head(z1$simparam$simparam)
names(z1$simparam$simparam)
sapply(z1$simparam$simparam,class)
?plyr::mutate
z1$simx
z1$simx()
head(z1$simx())
head(z1$simx1())
plot.ci(z1)
plot.ci(z1$simx())
plot.ci(z1$simx(),qi='ev')
plot.ci(z1$simx()$ev)
z1$simx()$ev
diff(,z1$simx()$ev,z1$simx1()$ev)
diff(z1$simx()$ev,z1$simx1()$ev)
setdiff(z1$simx()$ev,z1$simx1()$ev)
z1$simx()
names(z1$simx())
names(z1$simx1())
names(z1$simparams())
names(z1$simparam())
names(z1$simparam
)
names(z1$simparam)
names(z1$simparam$simparam)
dim(z1$simparam$simparam)
length(z1$simparam$simparam)
length(z1$simparam$simparam[[1]])
dim(z1$simparam$simparam[[1]])
names(z1$simparam$simparam[[1]])
colnames(z1$simparam$simparam[[1]])
head(z1$simparam$simparam[[1]])
colnames(z1$sim)
colnames(z1$sim())
length(z1$sim())
dim(z1$sim())
sapply(z1$sim(),class)
sapply(z1$sim(),names)
head(z1$sim())
z1$sim.out$x
z1$sim.out$x1
z1$sim.out$range
z1$sim.out$range1
z1$setrange1(Amount=seq(0,maxd,incr))
z1$sim.out$range1
z1$sim.out$range
z1$sim()
z1$sim.out$range
z1$sim.out$range1
# Pure Zelig 5
z1 <- zlogit$new()
z1$zelig(Vote ~ Party + Amount, data=df)
z1$setx(Party='R')
z1$setx1(Party='D')
z1$setrange(Amount=seq(0,maxd,incr))
z1$sim()
z1$sim.out$x1
plot.ci(z1)
?plot.ci
length(z1$sim.out$range)
length( z1$setx.out$range[[1]]$mm[[1]] )
length(z1$setx.out$range[[1]]$mm[[1]])
z1$setx.out$range[[1]]$mm[[1]]
z1$setx.out$range[[41]]$mm[[1]]
obj <- z1.copy()
obj <- z1$copy()
d<-length(obj$sim.out$range)
xmatrix<-matrix(NA,nrow=d, ncol=length( obj$setx.out$range[[1]]$mm[[1]] ))    # THAT IS A LONG PATH THAT MAYBE SHOULD BE CHANGED
for(i in 1:d){
xmatrix[i,]<-as.matrix( obj$setx.out$range[[i]]$mm[[1]] )   # THAT IS A LONG PATH THAT MAYBE SHOULD BE CHANGED
}
head(xmatrix)
tail(xmatrix)
xvarnames<-names(as.data.frame( obj$setx.out$range[[1]]$mm[[1]]))  # MUST BE A BETTER WAY/PATH TO GET NAMES
xvarnames
# Define function to cycle over range list and extract correct qi's
extract.sims<-function(obj,qi){
d<-length(obj$sim.out$range)
k<-length(obj$sim.out$range[[1]][qi][[1]][[1]])   # THAT IS A LONG PATH THAT MAYBE SHOULD BE CHANGED
hold<-matrix(NA,nrow=k, ncol=d)
for(i in 1:d){
hold[,i]<-obj$sim.out$range[[i]][qi][[1]][[1]]  # THAT IS A LONG PATH THAT MAYBE SHOULD BE CHANGED
}
return(hold)
}
foo <- extract.sims(obj,qi='fd')
head(foo)
foo <- extract.sims(obj=z1,qi='fd')
head(foo)
foo
length(obj$sim.out$range)
length(obj$sim.out$range[[1]]['ev'][[1]][[1]])
length(obj$sim.out$range[[1]]['pv'][[1]][[1]])
length(obj$sim.out$range[[1]]['fd'][[1]][[1]])
obj$setx.labels
# Pure Zelig 5
z1 <- zlogit$new()
z1$zelig(Vote ~ Party + Amount, data=df)
z1$setx(Party='R')
z1$setx1(Party='D')
z1$setrange(Amount=seq(0,maxd,incr))
z1$setrange1(Amount=seq(0,maxd,incr))
z1$sim()
plot.ci(z1)
# Pure Zelig 5
z1 <- zlogit$new()
z1$zelig(Vote ~ Party + Amount, data=df)
z1$setx(Party='R')
z1$setx1(Party='D')
z1$setrange(Amount=seq(0,maxd,incr))
z1$sim()
plot.ci(z1)
plot.ci(z1,x)
plot.ci(z1,setx)
plot.ci(z1,setx())
z1$bsetx
z1 <- zlogit$new()
z1$zelig(Vote ~ Party + Amount, data=df)
z1$setx(Party='R')
z1$setx1(Party='D')
z1$setrange(Amount=seq(0,maxd,incr))
z1$setrange1(Amount=seq(0,maxd,incr))
z1$sim()
obj <- z1$copy()
# Define function to cycle over range list and extract correct qi's
extract.sims<-function(obj,qi){
d<-length(obj$sim.out$range)
k<-length(obj$sim.out$range[[1]][qi][[1]][[1]])   # THAT IS A LONG PATH THAT MAYBE SHOULD BE CHANGED
hold<-matrix(NA,nrow=k, ncol=d)
for(i in 1:d){
hold[,i]<-obj$sim.out$range[[i]][qi][[1]][[1]]  # THAT IS A LONG PATH THAT MAYBE SHOULD BE CHANGED
}
return(hold)
}
extract.sims1<-function(obj,qi){    #Should find better architecture for alternate range sims
d<-length(obj$sim.out$range1)
k<-length(obj$sim.out$range1[[1]][qi][[1]][[1]])   # THAT IS A LONG PATH THAT MAYBE SHOULD BE CHANGED
hold<-matrix(NA,nrow=k, ncol=d)
for(i in 1:d){
hold[,i]<-obj$sim.out$range1[[i]][qi][[1]][[1]]  # THAT IS A LONG PATH THAT MAYBE SHOULD BE CHANGED
}
return(hold)
}
qi <- 'ev'
ev1<-NULL
if(!is.null(obj$sim.out$range1)){
ev1<-extract.sims1(obj,qi=qi)
}
ev<-extract.sims(obj,qi=qi)
if (is.null(ylab)){
ylab <- as.character(obj$setx.labels[qi])
}
ev1
dim(ev)
dim(ev1)
ylab
as.character(obj$setx.labels[qi])
plot.ci(z1,var='Amount')
plot.ci(z1,var='Amount',qi='fd')
plot.ci(z1,var='Amount',qi='ev')
ev1
diff(ev,ev1)
str(ev1)
ev-ev1
z1$sim.out$x
head(z1$sim.out$x$ev)
cbind(z1$sim.out$x$ev,z1$sim.out$x1$ev)
z1$sim.out$x
dim(z1$sim.out$x$ev)
length(z1$sim.out$x$ev)
dim(z1$sim.out$x$ev[[1]])
head(cbind(z1$sim.out$x$ev[[1]],z1$sim.out$x1$ev[[1]]))
dim(z1$sim.out$range)
length(z1$sim.out$range)
length(z1$sim.out$range[[1]])
length(z1$sim.out$range[[1]][[1]])
length(z1$sim.out$range[[1]]$ev)
length(z1$sim.out$range[[1]]$ev[[1]])
head(cbind(z1$sim.out$range[[1]]$ev[[1]],z1$sim.out$range1[[1]]$ev[[1]])
)
z1$simx()
z1$simx1()
head(cbind(z1$sim.out$range[[1]]$ev[[1]],z1$sim.out$range1[[1]]$ev[[1]]))
z1$sim.out$range[[1]]
z1$sim.out$range1[[1]]
z1$setx.out
z1$setx.out[[1]]
z1$setx.out[[1]]$mm
z1$setx1.out[[1]]
z1$setx.out
z1$setx.out[[1]]
z1$sim.out <- sim(obj=z1,
x=setx(z1,Party='R',Amount=seq(0,maxd,incr)),
x1=setx(z1,Party='D',Amount=seq(0,maxd,incr)))
sim(obj=z1,x=setx(z1,Party='R',Amount=seq(0,maxd,incr)),x1=setx(z1,Party='D',Amount=seq(0,maxd,incr)))
plot.ci(z1)
plot.ci(sim(obj=z1,x=setx(z1,Party='R',Amount=seq(0,maxd,incr)),x1=setx(z1,Party='D',Amount=seq(0,maxd,incr)))
)
z2 <- zlogit$new()
z2$zelig(Vote ~ Party * Amount, data=df)
z2$setx(Party='R')
z2$setx1(Party='D')
z2$setrange(Amount=seq(0,maxd,incr))
z2$setrange1(Amount=seq(0,maxd,incr))
s1 <- sim(obj=z2,x=setx(z2,Party='R',Amount=seq(0,maxd,incr)),x1=setx(z2,Party='D',Amount=seq(0,maxd,incr)))
plot.ci(s2)
s2 <- sim(obj=z2,x=setx(z2,Party='R',Amount=seq(0,maxd,incr)),x1=setx(z2,Party='D',Amount=seq(0,maxd,incr)))
plot.ci(s2)
# Pure Zelig 5
z1 <- zlogit$new()
z1$zelig(Vote ~ Party + Amount, data=df)
z1$setx(Party='R')
z1$setx1(Party='D')
z1$setrange(Amount=seq(0,maxd,incr))
z1$setrange1(Amount=seq(0,maxd,incr))
z1$sim()
s1 <- sim(obj=z1,x=setx(z1,Party='R',Amount=seq(0,maxd,incr)),x1=setx(z1,Party='D',Amount=seq(0,maxd,incr)))
plot.ci(s1)
z2 <- zlogit$new()
z2$zelig(Vote ~ Party * Amount, data=df)
z2$setx(Party='R')
z2$setx1(Party='D')
z2$setrange(Amount=seq(0,maxd,incr))
z2$setrange1(Amount=seq(0,maxd,incr))
z2$sim()
s2 <- sim(obj=z2,x=setx(z2,Party='R',Amount=seq(0,maxd,incr)),x1=setx(z2,Party='D',Amount=seq(0,maxd,incr)))
plot.ci(s2)
plot.ci(z2)
source('~/Documents/GitHub/public/Amash/amash_show_james_honaker.R')
rm(list=ls(all=TRUE))
library("Zelig")
data(turnout)
z5 <- zlogit$new()
z5$zelig(vote âˆ¼ age, data = turnout)
z5$setx()
z5$sim()
z5$graph()
head(turnout)
data(turnout)
z5 <- zlogit$new()
z5$zelig(vote âˆ¼ age * educate, data = turnout)
z5 <- zlogit$new()
z5$zelig(vote ~ age * educate, data = turnout)
z5$setx()
z5$sim()
z5$graph()
z5 <- zlogit$new()
z5$zelig(vote ~ age * educate, data = turnout)
z5$setx()
z5$sim()
plot.ci(z5)
z5 <- zlogit$new()
z5$zelig(vote ~ age * educate, data = turnout)
z5$setx(educate=12)
z5$setx1(educate=16)
z5$sim()
plot.ci(z5)
z5 <- zlogit$new()
z5$zelig(vote ~ age * educate, data = turnout)
z5$setx(educate=12)
z5$setx1(educate=16)
z5$setrange(age=18:70)
z5$sim()
plot.ci(z5)
z5 <- zlogit$new()
z5$zelig(vote ~ age * educate, data = turnout)
z5$setx(educate=12)
z5$setx1(educate=16)
z5$setrange(age=18:70)
z5$sim()
plot.ci(z5)
seq(18,70,2)
data(turnout)
z5 <- zlogit$new()
z5$zelig(vote ~ age * educate, data = turnout)
z5$setx(educate=12)
z5$setx1(educate=16)
z5$setrange(age=seq(18,70,2))
z5$sim()
plot.ci(z5)
data(turnout)
z5 <- zlogit$new()
z5$zelig(vote ~ age * educate, data = turnout)
z5$setx(educate=12)
z5$setx1(educate=16)
z5$setrange(age=seq(18,70,2))
z5$sim()
s5 <- sim(obj=z5,x=setx(z5,educate=12,age=seq(18,70,2)),x1=setx(z5,educate=16,age=seq(18,70,2)))
plot.ci(z5)
plot.ci(s5)
data(turnout)
z5 <- zlogit$new()
z5$zelig(vote ~ age + educate, data = turnout)
z5$setx(educate=12)
z5$setx1(educate=16)
z5$setrange(age=seq(18,70,2))
z5$sim()
s5 <- sim(obj=z5,x=setx(z5,educate=12,age=seq(18,70,2)),x1=setx(z5,educate=16,age=seq(18,70,2)))
plot.ci(z5)
plot.ci(s5)
plot.ci(z5, main=ma, legend(45, 0.52,
legend = c('College Education (16 years)',
'High School Education (12 years)')))
plot.ci(s5, main=ma, legend(45, 0.52,
legend = c('College Education (16 years)',
'High School Education (12 years)')))
plot.ci(z5, main=ma, legend(45, 0.8,
legend = c('College Education (16 years)',
'High School Education (12 years)')))
plot.ci(s5, main=ma, legend(45, 0.8,
legend = c('College Education (16 years)',
'High School Education (12 years)')))
plot.ci(z5, main=ma, legend(45, 0.8,
legend = c('College Education (16 years)',
'High School Education (12 years)')))
plot.ci(s5, main=ma, legend(45, 0.8,
legend = c('College Education (16 years)',
'High School Education (12 years)')))
plot.ci(z5, main=ma, legend(45, 0.8,
legend = c('College Education (16 years)',
'High School Education (12 years)'),
col = c('blue','red'), lty = c('solid')))
plot.new()
plot.ci(z5, main=ma, legend(45, 0.8,
legend = c('College Education (16 years)',
'High School Education (12 years)'),
col = c('blue','red'), lty = c('solid')))
# Amash votes
# Original story: http://www.wired.com/threatlevel/2013/07/money-nsa-vote/
# Summary data: http://s3.documentcloud.org/documents/741074/amash-amendment-vote-maplight.pdf
# -- amashvotevsmoney.csv
# Complete data : http://bit.ly/11IhEtY
# -- amashbig.csv
rm(list=ls(all=TRUE))
library("Zelig")
data(turnout)
z5 <- zlogit$new()
z5$zelig(vote ~ age + educate, data = turnout)
z5$setx(educate=12)
z5$setx1(educate=16)
z5$setrange(age=seq(18,70,2))
z5$sim()
s5 <- sim(obj=z5,x=setx(z5,educate=12,age=seq(18,70,2)),x1=setx(z5,educate=16,age=seq(18,70,2)))
xl <- "Age in Years"
yl <- "Expected Probability of Voting"
ma <- "Effect of Education and Age on Voting Behavior"
plot.ci(z5, main=ma, legend(45, 0.8,
legend = c('College Education (16 years)',
'High School Education (12 years)'),
col = c('blue','red'), lty = c('solid')))
plot.ci(s5, main=ma, legend(45, 0.8,
legend = c('College Education (16 years)',
'High School Education (12 years)')))
plot.ci(s5, main=ma, legend(45, 0.8,
legend = c('College Education (16 years)',
'High School Education (12 years)')))
# Amash votes
# Original story: http://www.wired.com/threatlevel/2013/07/money-nsa-vote/
# Summary data: http://s3.documentcloud.org/documents/741074/amash-amendment-vote-maplight.pdf
# -- amashvotevsmoney.csv
# Complete data : http://bit.ly/11IhEtY
# -- amashbig.csv
rm(list=ls(all=TRUE))
library("Zelig")
data(turnout)
z5 <- zlogit$new()
z5$zelig(vote ~ age + educate, data = turnout)
z5$setx(educate=12)
z5$setx1(educate=16)
z5$setrange(age=seq(18,70,2))
z5$sim()
s5 <- sim(obj=z5,x=setx(z5,educate=12,age=seq(18,70,2)),x1=setx(z5,educate=16,age=seq(18,70,2)))
xl <- "Age in Years"
yl <- "Expected Probability of Voting"
ma <- "Effect of Education and Age on Voting Behavior"
plot.ci(z5, main=ma, legend(45, 0.8,
legend = c('College Education (16 years)',
'High School Education (12 years)'),
col = c('blue','red'), lty = c('solid')))
plot.ci(s5, main=ma, legend(45, 0.8,
legend = c('College Education (16 years)',
'High School Education (12 years)')))
plot.ci(z5)
plot.ci(s5)
install.packages(c("ipred", "tseries"))
install.packages(c("foreign", "lattice", "MASS", "nlme", "R.methodsS3"), lib="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
install.packages(c("foreign", "lattice", "MASS", "nlme", "R.methodsS3"),
install.packages(c("foreign", "la
))
,_
)
,))
"),)
"
)
install.packages(c("foreign", "lattice", "MASS", "nlme", "R.methodsS3"), lib="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
install.packages(c("foreign", "lattice", "MASS", "nlme", "R.methodsS3"),
lib="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
install.packages(c("foreign", "lattice", "MASS", "nlme", "R.methodsS3"),
lib="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
